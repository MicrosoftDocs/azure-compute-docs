---
title: VM watch Collectors Suite
description: Learn more information about VM watch Collectors Suite.
author:      ofemifowode 
ms.author:   ofemifowode 
ms.service: azure-virtual-machines
ms.topic: concept-article
ms.date:     01/07/2026
ms.subservice: monitoring
# Customer intent: As a systems administrator, I want to implement VM watch collectors to monitor VM health metrics and logs, so that I can proactively identify issues, optimize performance, and ensure the reliability of the virtual machine environment.
---

# VMwatch Plugin Collections 

VMWatch is implemented with an Infra-Plugin model for functional scalability. VMWatch Infra is reponsible for the scheduling of each Plugin's execution, and each Plugin is targeted to measure the VM health of a spefic area and emit the VM health Signals (Check, Metric, Eventlog). Below is a summary of all the available Plugins in VMWatch, the Signals they emit and their parameter configurations.

This article provides a summary of all available collectors in VM watch, along with the corresponding checks, metrics, logs, and parameter configurations. For detailed descriptions of each check, metric, and log, refer to the [VM watch overview](/azure/virtual-machines/azure-vm-watch) page.

### Prerequisites
This article assumes that you're familiar with:
- [VM watch checks, metrics, and logs](/azure/virtual-machines/azure-vm-watch) 
- [Install VM watch to virtual machines and scale sets](/azure/virtual-machines/install-vm-watch?tabs=ARM-template-1%2Ccli-2)

> [!NOTE]
> | **Name**  | **Description** |
> |---|---|
> | **Plugin Name** | Logical grouping of similar tests where you can collect checks, metrics, and logs to determine the health of a particular resource |
> | **Description** | a Short Description about the Plugin |
> | **Group** | Indicates whether the collectors are part of the core or optional group. Core group collectors are enabled by default, while optional group collectors can be enabled or disabled based on your requirements |
> | **Tags** | Used to categorize and filter checks, metrics, and logs |
> | **Eligibility** | Determines whether a collector is eligible to be executed based on the environment attributes you specify |
> | **Default Behavior** | Standard setting and action that would be followed if no custom configurations are provided. |
> | **Overwritable Parameters** | Associated parameters that can be customized to override the default configuration |


### Groups, tags and corresponding checks, metrics, and event logs

| Plugin Name | Description | Eligibility | Group | Tags | Default Behavior | Overwritable Parameters | Checks | Metrics | 
|---|---|---|---|---|---|---|---|---|
| outbound_connectivity| Verify the outbound connectivity to a remote URL from the VM. |Eligible if EnrironmentAttribute "OutboundConnectivityDisabled" is not set or set to "false"| Core|*Network|This Plugin is executed every 60s. In each execution, it sends an http GET request to http://www.msftconnecttest.com/connecttest.txt with a timeout of 30s.|<ul> <li>OUTBOUND_CONNECTIVITY_INTERVAL: the execution interval of the Collector. Default: 60s</li> <li>OUTBOUND_CONNECTIVITY_URLS: the URLs that this Collector sends http GET requests to. URLs are provided as a string using `,` as separator. Default: `http://www.msftconnecttest.com/connecttest.txt`</li> <li>OUTBOUND_CONNECTIVITY_TIMEOUT_IN_MILLISECONDS: the http GET request time-out in milliseconds. Default: 30000</li> <li>OUTBOUND_CONNECTIVITY_TOTAL_ATTEMPTS: the total number of attempts to send http request if the previous one fails. Default: 1</li> <li>OUTBOUND_CONNECTIVITY_RETRY_INTERVAL_IN_SECONDS: the retry interval in seconds if the previous http request fails. Default: 10</li> </ul>| *outbound_connectivity |LatencyInNanoSeconds| 
| dns| 	Verify if the target DNS name can be resolved. |Eligible if EnrironmentAttribute "OutboundConnectivityDisbled" is not set or set to "false"| Core| * Network|	This Plugin is executed every 180s. In each execution, it tries to resolve the DNS name www.msftconnecttest.com . The verification is marked as "Failed" if the DNS name cannot be resolved.|<ul> <li>DNS_INTERVAL: the execution interval of the Collector. Default: 180s</li>  <li>DNS_NAMES: the domain names to be resolved separated by `,`. Default: `www.msftconnecttest.com`</li> </ul>| * dns || 
| tcp_stats | Collect the TCP statistics of the VM |Always eligible| Core | * Network|This Plugin is executed every 180s. In each execution, it collects the TCP statistics of the last 180s.| <ul> <li>TCP_STATS_INTERVAL: the execution interval of the Collector. Default: 180s</li>  </ul>||<ul> <li> SegmentsRetransmitted </li> <li> TCPSynRetransmits (Linux only) </li><li> NormalizedSegmentsRetransmitted </li><li> ConnectionResets </li><li> NormalizedConnectionResets </li><li> FailedConnectionAttempts </li><li> NormalizedFailedConnectionAttempts </li><li> ActiveConnectionOpenings</li><li> PassiveConnectionOpenings </li><li> CurrentConnections </li><li> SegmentsReceived  </li><li> SegmentsSent  </li></ul>||
| clock_skew | 	Verify the clock skew between the VM and the remote NTP server|Eligible if EnrironmentAttribute "OutboundConnectivityDisbled" is not set or set to "false"| Core| * Clock|	This Plugin is executed every 180s. In each execution, it retrieves the clock offset between the remote NTP server time.windows.com and the VM. The verification is marked as "Failed" if the clock skew is larger than 5.0 seconds. In Windows VM, if connecting to remote NTP server fails, it fallbacks to check Windows Time Service with w32tm command. The verification is marked as "Failed" if the w32tm command returns "Leap Indicator: 3(not synchronized)".|<ul> <li>CLOCK_SKEW_INTERVAL: the execution interval of the Collector. Default: 180s</li> <li>CLOCK_SKEW_NTP_SERVER: the remote NTP server used to calculate clock skew. Default: time.windows.com</li> <li>CLOCK_SKEW_TIME_SKEW_THRESHOLD_IN_SECONDS: the threshold in seconds of clock offset to mark the verification as "Failed". Default: 5.0</li> </ul> |clockskew|
| disk_io | 	Verify the disk IO avaialbilities (including folder creation/deletion, file creation, write, read, deletion) in each selected disk/partition mount point. Also collect the disk usage metrics of these mount points. If no mount points are specified, apply the these operations on each available mount point.|Always eligible if mount points are not specified. If mount points are explicitly specified, only eligible when data disks are attached to the VM|Core|Disk |	This Plugin is executed every 60s. In each execution, it verifies the disk io availability in each available mount point by creating a folder, creating a file, writing bytes to it, deleting it and delete the folder. Then it collects the disk usage info indcluding used space, free space, total capacity and used percentage from each mount point. Get disk LUN and disk serial number and report them as a property.|<ul> <li>DISK_IO_INTERVAL: the execution interval of the Plugin. Default: 60s</li> <li>DISK_IO_MOUNT_POINTS:  the mount points separated by. No default value </li> <li>DISK_IO_IGNORE_FS_LIST: the file system list that should be ignored separated by ,. Default: tmpfs,devtmpfs,devfs,iso9660,overlay,aufs,squashfs,autofs</li> <li>DISK_IO_FILENAME: the name of the file used to verify the file read/write. Default: vmwatch-{timestamp}.txt</li></ul>  | * disk_io |<ul> <li> UsedSpaceInBytes </li> <li> FreeSpaceInBytes (Linux only) </li><li> CapacityInBytes </li><li> UsedPercent </li><li> WriteLatencyNs </li><li> SyncLatencyNs </li><li> ReadLatencyNs </li> </ul>||
| disk_iops  | Collect the disk read/write perations per second from all available disk devices or explicitly specified disk devices.|Always eligible|Core|* Disk|This Plugin is executed every 180s. In each execution, it collects the disk read and write operations per second metrics from each available disk device.|<ul> <li>DISK_IOPS_INTERVAL: the execution interval of the Collector. Default: 180s</li> <li>DISK_IOPS_DEVICES: the device names separated by `,`. No default value</li> <li>DISK_IOPS_IGNORE_DEVICE_REGEX: the regex of the device name that should be ignored. Default: loop</li> </ul>  ||<ul> <li>WriteOps</li> <li>ReadOps</li> <li>DiskReadBytesPerSec</li><li>DiskTransfersPerSec</li></ul>||
| vm_cpu | 	Collect the machine total CPU usage, CPU count, and the usage of each CPU core.| Always eligible| Core| *CPU| 	This Plugin is executed every 180s. In each execution, it collects machine total CPU usage, CPU count, and the usage of each CPU core| <ul> <li>VM_CPU_INTERVAL: the execution interval of the Plugin. Default: 180s</li></ul>||<ul> <li>TotalCpuUsage</li> <li>CpuCount</li> <li>PerCore</li></ul>||
| vm_blip | 	Measure the elapsed time in milliseconds for the given measurement interval, to detect any VM blip.| Always eligible| Core| *Blip| 	This Plugin is executed every 11s. In each execution, it measures the elapsed time in milliseconds of the given interval of 10 seconds| <ul> <li>VM_BLIP_INTERVAL: the execution interval of the Plugin. Default: 11s </li> <li> VM_BLIP_MEASUREMENT_INTERVAL_IN_SECONDS: the given measurement interval. Default: 10s </li></ul>||<ul> <li>ElapsedMs</li> </ul>||
| imds | Query the IMDS endpoint from within the VM and verify the response of the IMDS query response. |Always eligible| Core| * IMDS|	This Plugin is executed every 180s. In each execution, it queries the IMDS endpoint http://169.254.169.254/metadata/instance/compute and verifies the response body contains the information (SubscriptionId, ResourceGroup, VMId, ResourceId) of the VM. The query timeout is 10s. If the query fails, it will retry at most another 3 more times with an interval of 15s, 30s and 45s.|<ul> <li>IMDS_INTERVAL: the execution interval of the Plugin. Default: 180s </li> <li> IMDS_ENDPOINT: the URL of the IMDS endpoint. Default:http://169.254.169.254/metadata/instance/compute </li><li> IMDS_TIMEOUT_IN_SECONDS: the timeout in seconds of each query. Default: 10 </li><li> IMDS_QUERY_TOTAL_ATTEMPTS: the total number of attempts to send http request if the previous one fails. Default: 4 </li><li> IMDS_RETRY_INTERVAL_IN_SEONDS: the retry interval in seconds if the previous http request fails. Default: 15, 30, 45 </li> </ul>| * imds| |
| process  | Verify if a process can be created and executed.	|Always eligible| Core| * Process|This Plugin is executed every 180s. In each execution, it creates and executes command ${SYTEM_DIR}\system32\cmd.exe /c echo hello in Windows machine and /bin/sh -c echo hello in Linux machine. The timeout of process execution is 10s.| <ul> <li>PROCESS_INTERVAL: the execution interval of the Collector. Default: 180s</li>  <li>PROCESS_TIMEOUT: the time-out of process execution. Default: 10s</li> </ul>| * process|
| process_memory   | Collect the top 3 processes using the most memory resource. Report each process's memory usage over the machine total memory and its Page Fault Counter. Also report the machine's total memory, machine's used memory pecentage and total Page Faults Counter.|Always eligible|Core |Process|This Plugin is executed every 180s. In each execution, it selects the top 3 processes with the most memory usage and reports the ProcessRSSPercent, ProcessPageFaults, MachineMemoryTotalInBytes, MachineMemoryUsedPercent and TotalPageFaults.|<ul> <li> PROCESS_MEMORY_INTERVAL: the execution interval of the Plugin. Default: 180s </li></ul>||<ul> <li>ProcessRSSPercent</li> <li>ProcessPageFaults</li> <li>MachineMemoryTotalInBytes</li><li>MachineMemoryUsedPercent</li><li>TotalPageFaults</li></ul>||
| process_cpu   | Collect the top 3 processes using the most CPU resource. Report each process's CPU usage over the CPU core and machine. Also report the machine's total CPU usage.|Always eligible|Core |Proces|This Plugin is executed every 180s. In each execution, it selects the top 3 processes with the most CPU usage and reports the ProcessCoreUsage, ProcessMachineUsage and MachineTotalCpuUsage.|<ul> <li> PROCESS_CPU_INTERVAL: the execution interval of the Plugin. Default: 180s </li> </ul>||<ul> <li>ProcessCPUCoreUsage</li> <li>ProcessCPUMachineUsage</li> <li>MachineTotalCpuUsage</li></ul>||
| process_monitor   | Verify if the selected process is running and collect its running time in seconds.|Always eligible|Optional|Process|Not executed.| <ul> <li>PROCESS_MONITOR_INTERVAL: the execution interval of the Collector. Default: 180s</li>  <li>PROCESS_MONITOR_PROCESS_NAMES: the Regular Expression of process names to be monitored separated by `,`. No default value</li> </ul>|<ul> <li>process_monitor</li> </ul>|<ul> <li>UpTime</li> </ul>||
| system_error   | 	Collect the error at system level event log (Windows only).|Eligible in Windows machine|Core|OS|	The plugin is executed every 3 mins. In each execution, it subscribes to the "System" Channel of Windows EventLog and queries Events with Level defined in SystemData <=2 (including LOG_ALWAYS, Critital, Error). The measurementTarget is defined as Source_EventId_ShortHash of the EventLog using default Windows locale. A cap of no more than 10 different measurementTargets is applied in each collection.|<ul> <li>SYSTEM_ERROR_MEASUREMENT_TARGET_CAP: the cap of total different measurementTargets in each collection. Default: 10</li> </ul>     ||<ul><li>SystemErrors</li> </ul>||
| az_storage_blob   | 	Verify if the VM can have access to the selected Azure Storage Blob by using either Managed Identity or SAS token.|Eligible if EnrironmentAttribute "OutboundConnectivityDisbled" is not set or set to "false"|Optional| *AzBlob|Not executed.|<ul> <li>AZ_STORAGE_BLOB_INTERVAL: the execution interval of the Collector. Default: 180s</li> <li>AZ_STORAGE_ACCOUNT_NAME: the Azure Storage account name. No default value</li> <li>AZ_STORAGE_CONTAINER_NAME: the Azure Storage Container name. No default value</li> <li>AZ_STORAGE_BLOB_NAME: the Azure Storage Blob name. No default value</li> <li>AZ_STORAGE_BLOB_DOMAIN_NAME: the Azure Storage domain name. No default value</li> <li>AZ_STORAGE_SAS_TOKEN_BASE64: the Base64 encoded Azure Storage SAS token. No default value</li> <li>AZ_STORAGE_USE_MANAGED_IDENTITY: if the managed identity will be used for authentication. Default: false</li> <li>AZ_STORAGE_MANAGED_IDENTITY_CLIENT_ID: the managed identity client ID for authentication. No default value</li> </ul>| <ul> <li>az_storage_blob</li> </ul>|
| hardware_health_monitor   | Collect hardware health info from Windows event log, currently only disk related critical events are collected, including events with id 7, 500, 504, 505, 512 and 549. Those events include critical metrics about disk health status, for NVMe directly attached devices, it is exclusively available on the VM side only. With those metric it is possible to monitor and alert the disk status, thus to improve the VM service availabilities|Eligible in Windows machine|Optional|*Hardware |Not executed.|<ul> <li>HARDWARE_HEALTH_MONITOR_INTERVAL: the execution interval of the Collector. Default: 180s</li>  </ul>|| <ul> <li>hardware_health_monitor</li> </ul>|
| hardware_health_nvidia_smi   | Collect GPU stats including memory and GPU usage, temp and other by running nvidia-smi command (Linux Ubuntu only)|Eligible in Linux Ubuntu machine|Optional |*Hardware |Not executed.| <ul> <li>HARDWARE_HEALTH_NVIDIA_SMI_INTERVAL: the execution interval of the Collector. Default: 60s</li><li>HARDWARE_HEALTH_NVIDIA_SMI_INTERVAL: the time-out of running /usr/bin/nvidia-smi command. Default: 10s</li> </ul>||<ul> <li>hardware_health_nvidia_smi</li> </ul>|




### Next steps

- [Configure VM watch](/azure/virtual-machines/configure-vm-watch)
- [Configure Event Hubs for VM watch](/azure/virtual-machines/configure-eventhub-vm-watch)
- [Install VM watch](/azure/virtual-machines/install-vm-watch?tabs=ARM-template-1%2Ccli-2)
- [VM watch overview](/azure/virtual-machines/azure-vm-watch)
