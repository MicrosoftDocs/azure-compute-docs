---
title: Frequently Asked Questions and Troubleshooting
description: Frequently asked questions and troubleshooting for instance mix on virtual machine scale sets. 
author: brittanyrowe 
ms.author: brittanyrowe
ms.topic: conceptual
ms.service: azure-virtual-machine-scale-sets
ms.date: 11/18/2024
ms.reviewer: jushiman
---

# Virtual machine scale sets with instance mix frequently asked questions and troubleshooting

## Frequently Asked Questions
### Can I use Spot and Standard VMs with instance mix?
Yes, you can use both Spot and Standard VMs in your scale set deployments using instance mix. To do so, use [Spot Priority Mix](./spot-priority-mix.md) to define a percentage split of Spot and Standard VMs. 

## Troubleshooting
| Error Code                                 | Error Message                                                                                                        | Troubleshooting options                                                                                                                                                                                                                                                                                              |
| ------------------------------------------ | -------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `SkuProfileAllocationStrategyInvalid`        | `Sku Profile’s Allocation Strategy is invalid.`                                                                        | Ensure that you're using `CapacityOptimized`, `Prioritized`, or `LowestPrice` as the `allocationStrategy`                                                                                                                                                                                                                     |
| `SkuProfileVMSizesCannotBeNullOrEmpty`       | `Sku Profile VM Sizes cannot be null or empty. Please provide a valid list of VM Sizes and retry.`                     | Provide at least one VM size in the `skuProfile`.                                                                                                                                                                                                                                                                    |
| `SkuProfileHasTooManyVMSizesInRequest`       | `Too many VM Sizes were specified in the request. Please provide no more than 5 VM Sizes.`                             | At this time, you can specify up to five VM sizes with instance mix.                                                                                                                                                                                                                                                 |
| `SkuProfileVMSizesCannotHaveDuplicates`      | `Sku Profile contains duplicate VM Size: {duplicateVmSize}. Please remove any duplicates and retry.`                   | Check the VM SKUs listed in the `skuProfile` and remove the duplicate VM size.                                                                                                                                                                                                                                       |
| `SkuProfileScenarioNotSupported`             | `{propertyName} is not supported on Virtual Machine Scale Sets with Sku Profile.`                                       | Instance mix doesn’t support certain scenarios today, like Azure Dedicated Host (`properties.hostGroup`), Capacity Reservations (`properties.virtualMachineProfile.capacityReservation`), and StandbyPools (`properties.standbyPoolProfile`). Adjust the template to ensure you’re not using unsupported properties. |
| `SkuNameMustBeMixIfSkuProfileIsSpecified`    | `Sku name is {skuNameValue}. Virtual Machine Scale Sets with Sku Profile must have the Sku name property set to "Mix".` | Ensure that the `sku.name property` is set to `"Mix"`.                                                                                                                                                                                                                                                               |
| `SkuTierMustNotBeSetIfSkuProfileIsSpecified` | `Sku tier is {skuTierValue}. Virtual Machine Scale Sets with Sku Profile must not have the Sku tier property set.`     | `sku.tier` is an optional property for scale sets. With instance mix, `sku.tier` must be set to `null` or not specified.                                                                                                                                                                                             |
| `InvalidParameter`                           | `The value of parameter skuProfile is invalid.`                                                                        | Your subscription isn't registered for the instance mix feature. Follow the enrollment instructions to register for the Preview.                                                                                                                                                                                     |